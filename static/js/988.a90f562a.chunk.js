"use strict";(self.webpackChunkmy_react_appo=self.webpackChunkmy_react_appo||[]).push([[988],{4988:(e,o,t)=>{t.r(o),t.d(o,{default:()=>f});var a=t(9950),r=t(5003),n=t(5277),l=t(2578),i=t(6639),s=t(2241),c=t(1975),d=t(4857),u=t(6589),p=t(2845),h=t(4414);const m=(0,a.memo)(r.A);const f=function(e){let{email:o}=e;const[t,r]=(0,a.useState)("Comprado"),[f,x]=(0,a.useState)(!0),[g,v]=(0,a.useState)(!0),[C,k]=(0,a.useState)([]),b=(0,a.useRef)(null),A=(0,d.A)(),E=(0,u.A)(A.breakpoints.down("sm")),j=(0,l.C3)(s.A),w=(0,a.useCallback)((e=>{k([]),x(!0),t!==e&&(r(e),y("",e))}),[t]),y=(e,t)=>{const a=(0,l.KR)(j,"GE/Compras/Nacional");let r;r=0!==C.length?"nawetin@gmail.com"===o?(0,l.P)(a,(0,l.kT)("Estado"),(0,l.iz)("Enviado")):(0,l.P)(a,(0,l.kT)("Codigo"),(0,l.FD)(e),(0,l.$1)(6)):(0,l.P)(a,(0,l.$1)(16)),(0,l.Jt)(r).then((e=>{const o=[];e.forEach((e=>{const a=e.val();a&&!(0,c.D0)(a.Codigo,C)&&a.Estado===t&&o.unshift(a)})),0!==C.length?k((e=>[...e,...o])):k(o),x(!1),0===o.length&&v(!1)})).catch((e=>{console.error("Error fetching data:",e),x(!1)}))},R=(0,a.useCallback)((()=>{let e=C.slice(-1)[0];b.current.scrollTop+b.current.clientHeight>=b.current.scrollHeight&&y(e.Codigo,t)}),[C.length]);return(0,a.useEffect)((()=>(b.current.addEventListener("scroll",R),()=>{b.current&&b.current.removeEventListener("scroll",R)})),[R]),(0,a.useEffect)((()=>(y("",t),()=>{})),[]),(0,h.jsxs)("div",{style:{padding:8,overflowY:"auto",height:"95vh",marginTop:E?65:5,paddingTop:"10px"},ref:b,children:[(0,h.jsx)(p.A,{texto:"Nacional"}),"nawetin@gmail.com"!==o&&(0,h.jsxs)("div",{children:[(0,h.jsx)(n.A,{label:"Comprado",style:{marginRight:"8px"},clickable:!0,onClick:()=>w("Comprado"),color:"Comprado"===t?"primary":"default"}),(0,h.jsx)(n.A,{label:"Enviado",clickable:!0,style:{marginRight:"8px"},onClick:()=>w("Enviado"),color:"Enviado"===t?"primary":"default"}),(0,h.jsx)(n.A,{label:"Retirado",clickable:!0,style:{marginRight:"8px"},onClick:()=>w("Retirado"),color:"Retirado"===t?"primary":"default"})]}),(0,h.jsx)("div",{children:f?(0,h.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:(0,h.jsx)(i.A,{})}):(0,h.jsx)(m,{dats:C,venta:!1,valor:"Nacional"})})]})}},5003:(e,o,t)=>{t.d(o,{A:()=>d});var a=t(7775),r=t(6589),n=t(6491),l=t(2053),i=t(9950),s=t(8429),c=(t(1975),t(4414));const d=function(e){let{dats:o,valor:t}=e;const d=(0,s.Zp)(),u=(0,a.A)(),p=(0,r.A)(u.breakpoints.down("sm")),[h,m]=(0,i.useState)(o);return null===o||void 0===o?void 0:o.map((e=>(0,c.jsxs)(n.A,{onClick:()=>{return o=e.Codigo,a=e.Contexto,void d("/".concat(t,"/Detalles/").concat(o,"/").concat(a));var o,a},sx:{display:"flex",justifyContent:"space-between",cursor:"pointer","&:hover":{backgroundColor:"#f0f0f0"},padding:"8px",borderRadius:"4px",width:"80vw",flexGrow:1,flexShrink:1,overflowX:"hidden",maxWidth:p?"100%":"90vw"},children:[(0,c.jsx)(l.A,{children:e.CompraId}),"Exterior"===e.Contexto&&(0,c.jsx)(l.A,{children:e.Estado})]},e.Codigo)))}},1975:(e,o,t)=>{t.d(o,{D0:()=>r,o6:()=>a});t(563),t(6011),t(9950),t(2578),t(2241);const a=e=>{const o=e.match(/\d{5}$/);return o?o[0]:null};let r=(e,o)=>o.some((o=>o.Codigo===e))}}]);